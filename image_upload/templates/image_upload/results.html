<!DOCTYPE html>
{% load static %}
<html lang="kor">
<head>
    <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> SearchResult </title>
    <link rel="stylesheet" href="{% static 'css/result_main.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
  .space-between {
    margin-bottom: 20px;
  }
  .bg-light {
    background-color: #f8f9fa;
  }
  .bg-white {
    background-color: #ffffff;
  }
  .rounded-3 {
    border-radius: 0.3rem;
  }
  .overflow-hidden {
    overflow: hidden; /* Add this to prevent overflow */
  }
  .img-fluid {
    max-width: 100%;
    height: auto; /* This keeps the aspect ratio */
  }
  .w-100 {
    width: 100%; /* This ensures the image takes up the full width of its container */
  }

  /* General container and tab styles */
  .container {
    font-family: Arial, sans-serif; /* Change as needed */
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }
  .tab_area {
    margin-bottom: 20px;
  }
  .tab_button {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    border-bottom: 3px solid #ccc;
  }
  .tab_item {
    margin-left: 5px;
    margin-right: 5px;
  }
  .tab_item a {
    display: block;
    padding: 10px 10px;
    background-color: #eee;
    border-radius: 5px 5px 0 0;
    color: #333;
    text-decoration: none;
  }
  .tab_item.on a,
  .tab_item a:hover {
    background-color: #6c5ce7;
    color: white;
  }

  /* Table styles */
  .info_table th.store-name {
    width: 18%; /* Adjust the percentage as needed */
  }
  .info_table th.category {
    width: 9%; /* Adjust the percentage as needed */
  }
  .info_table th.phone-number {
    width: 16%; /* Adjust the percentage as needed */
  }
  .info_table th.address {
    width: 32%; /* Adjust the percentage as needed */
  }
  .info_table th.link {
    width: 15%; /* Adjust the percentage as needed */
  }
  .info_table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 1px;
    margin-top: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add shadow for depth */
    border-radius: 5px; /* Rounded corners for the table */
    overflow: hidden; /* Ensures the border-radius applies on child elements */
  }
  .info_table, .info_table th, .info_table td {
    border: 1px solid #ddd;
  }
  .info_table th,
  .info_table td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: left;
    background-color: #fff; /* Ensures background for cells is white */
  }
  .info_table th {
    background-color: #5a5a5a; /* Matching the tabs' active state color */
    color: white;
    font-weight: normal;
    text-align: center;
    padding: 10px 20px;
  }
  .info_table td {
    padding: 10px;
    text-align: center;
  }
  .info_table td a {
    text-decoration: underline; /* Underlines the link */
    color: #007bff; /* Sets the link color; blue for example */
  }
  .info_table td a:hover {
    color: #0056b3; /* Darker blue on hover for example */
  }
  .info_table tr:nth-child(even) {
    background-color: #fbfbfb;
  }
  .info_table tr:hover {
    background-color: #f1f1f1;
  }
  .info_table a {
    color: #1a0dab;
    text-decoration: none;
  }
  .info_table a:hover {
    text-decoration: underline;
  }

  /* Zebra-striping for rows */
  .info_table tr:nth-child(odd) {
    background-color: #f9f9f9;
  }

  /* Hover effect for rows */
  .info_table tr:hover {
    background-color: #f1f1f1;
  }

  /* Links style */
  .info_table a {
    color: #1a0dab;
    text-decoration: none;
    transition: color 0.3s ease; /* Smooth transition for color change */
  }

  .info_table a:hover {
    color: #6c5ce7; /* Color changes to match the active tab */
    text-decoration: underline;
  }
    </style>
</head>

<body>
 <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><img src= "{% static 'image/logo_white.png' %}" style="height: 50px" id="logo"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">트렌드</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">인기 카페</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            메뉴
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">자주가는 카페</a></li>
            <li><a class="dropdown-item" href="#">나만의 지도</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">내 정보</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
        </li>
      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>
  <div class = "space-between"></div>
  <main class = "container">

<div class="container my-5">
  <div class="bg-light rounded-3 p-4">
    <div class="row align-items-center">
      <div class="col-md-6">
        <!-- 사용자 업로드 이미지 박스 -->
        <div class="bg-white rounded-3 p-3 mb-3 overflow-hidden">
          <img src="{{ image_url }}" class="img-fluid w-100" alt="사용자 업로드 사진">
        </div>
      </div>
      <div class="col-md-6">
        <!-- 예측 결과 박스 -->
        <div class="bg-white rounded-3 p-3 mb-3">
          {% if result %}
          <h1>예측 결과: {{ result }}</h1>
          {% else %}
          <p>No prediction results available</p>
          {% endif %}
        </div>
        <!-- 상위 5개 예측 박스 -->
        <div class="bg-white rounded-3 p-3">
          <h2>상위 5개 예측:</h2>
          {% if top_results %}
          <ul>
            {% for class_name, probability in top_results %}
            <li>{{ class_name }}: {{ probability|floatformat:2 }}%</li>
            {% endfor %}
          </ul>
          {% else %}
          <p>No top predictions available</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
    <div class="tab_area">
        <!-- //tab buttons-->
        <ul class="tab_button">
            <li class="tab_item on" data-tab="tab1"><a href="#">Satisfaction</a></li>
            <li class="tab_item" data-tab="tab2"><a href="#">Pets allowed</a></li>
            <li class="tab_item" data-tab="tab3"><a href="#">Similar Reviews</a></li>
        </ul>

        <!-- //Tab content -->
        <div id="tab1" class="tab_cont on">
            <table class="info_table">
            <thead>
            <tr>
              <th class="store-name">Store Name</th>
              <th class="category">Category</th>
              <th class="phone-number">Phone Number</th>
              <th class="address">Address</th>
              <th class="link">Link</th>
            </tr>
            </thead>
            <tbody>
              {% for bakery in recommended_bakery %}
              <tr>
                <td>{{ bakery.store_name }}</td>
                <td>{{ bakery.mart_cate }}</td>
                <td>{{ bakery.tel }}</td>
                <td>{{ bakery.address }}</td>
                <td><a href="{{ bakery.link }}">Visit</a></td>
              </tr>
              {% endfor %}
            </tbody>
            </table>
        </div>
        <!-- <div class="pagination">
          <span class="page-links">
              {% if page_obj.has_previous %}
                  <a href="?page=1">&laquo; 처음</a>
                  <a href="?page={{ page_obj.previous_page_number }}">&lt; 이전</a>
              {% endif %}
              
              <span class="current">
                  페이지 {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
              </span>
              
              {% if page_obj.has_next %}
                  <a href="?page={{ page_obj.next_page_number }}">다음 &gt;</a>
                  <a href="?page={{ page_obj.paginator.num_pages }}">마지막 &raquo;</a>
              {% endif %}
          </span>
        </div> -->
        <div id="tab2" class="tab_cont">
            <table class="info_table">
            <thead>
            <tr>
             <th class="store-name">Store Name</th>
             <th class="category">Category</th>
             <th class="phone-number">Phone Number</th>
             <th class="address">Address</th>
             <th class="link">Link</th>
            </tr>
            </thead>
            <tbody>
            <!-- Example row -->
            <tr>
              {% for bakery in recommended_pet_friendly %}
              <tr>
                <td>{{ bakery.store_name }}</td>
                <td>{{ bakery.mart_cate }}</td>
                <td>{{ bakery.tel }}</td>
                <td>{{ bakery.address }}</td>
                <td><a href="{{ bakery.link }}">Visit</a></td>
              </tr>
              {% endfor %}
            </tr>
                <!-- More rows here -->
            </tbody>
            </table>
        </div>
        <div id="tab3" class="tab_cont">
            <table class="info_table">
            <thead>
            <tr>
              <th class="store-name">Store Name</th>
              <th class="category">Category</th>
              <th class="phone-number">Phone Number</th>
              <th class="address">Address</th>
              <th class="link">Link</th>
            </tr>
            </thead>
            <tbody>
            <!-- Example row -->
            <tr>
             <td>오우드 성수1호점</td>
             <td>카페,디저트</td>
             <td>070-8844-0196</td>
             <td>서울특별시 성동구 연무장길 101-1</td>
             <td><a href="https://m.place.naver.com/place/1833313793?entry=ple" target="_blank">가게 정보 바로가기</a></td>
             </tr>
                <!-- More rows here -->
            </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function(){
    $('.tab_item').click(function(){
        var tab_id = $(this).attr('data-tab');

        $('.tab_item').removeClass('on');
        $('.tab_cont').removeClass('on');

        $(this).addClass('on');
        $("#"+tab_id).addClass('on');
    });
});
</script>
</body>
</html>